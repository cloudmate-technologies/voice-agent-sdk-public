(()=>{"use strict";({204:function(){var t,n=this&&this.__awaiter||function(t,n,e,i){return new(e||(e=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,s)}c((i=i.apply(t,n||[])).next())}))},e=this&&this.__generator||function(t,n){var e,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(e=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(t,o)}catch(t){s=[6,t],i=0}finally{e=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};t=function(){function t(){this.scriptLoaded=!1,this.scriptElement=null,this.init=this.init.bind(this),this.destroy=this.destroy.bind(this)}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.loadScript=function(){return n(this,void 0,void 0,(function(){var t=this;return e(this,(function(n){return this.scriptLoaded?[2]:[2,new Promise((function(n,e){var i=document.createElement("script");i.src="https://cdn.jsdelivr.net/gh/VapiAI/html-script-tag@latest/dist/assets/index.js",i.async=!0,i.onload=function(){t.scriptLoaded=!0,t.scriptElement=i,n()},i.onerror=function(t){e(t)},document.head.appendChild(i)}))]}))}))},t.prototype.init=function(){return n(this,void 0,void 0,(function(){var t,n,i,r,o,a;return e(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.loadScript()];case 1:if(e.sent(),!(t=document.querySelector("voice-agent")))return console.error("Voice agent element not found"),[2];if(n=t.getAttribute("assistant"),i=t.getAttribute("apiKey"),r=t.getAttribute("config"),!n||!i)return console.error("Missing required attributes: assistant or apiKey"),[2];o={};try{o=r?JSON.parse(r):{}}catch(t){console.warn("Invalid JSON in config attribute:",t)}return this.destroy(),window.vapiInstance=window.vapiSDK.run({assistant:n,apiKey:i,config:o}),[3,3];case 2:return a=e.sent(),console.error("Failed to initialize Vapi:",a),[3,3];case 3:return[2]}}))}))},t.prototype.destroy=function(){window.vapiInstance&&(window.vapiInstance.destroy(),window.vapiInstance=null)},t.instance=null,t}(),document.addEventListener("DOMContentLoaded",(function(){t.getInstance().init()})),window.addEventListener("unload",(function(){t.getInstance().destroy()})),window.VoiceAgent=t}})[204]()})();